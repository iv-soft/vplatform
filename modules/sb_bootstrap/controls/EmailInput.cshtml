@using System.Linq;
@using System.Collections.Generic;
@using Microsoft.Extensions.DependencyInjection;
@{
  var entity_manager = get_service<IVySoft.VPlatform.TemplateService.Entity.IEntityManager>();
  var razor = get_service<IVySoft.VPlatform.TemplateService.Razor.IRazorManager>();
  var sp = entity_manager.get_db_model<IVySoft.SiteBuilder.DbModel>();
  var scope = sp.CreateScope();
  var db = scope.ServiceProvider.GetService<IVySoft.SiteBuilder.DbModel>();
  var control = (IVySoft.SiteBuilder.EmailInput)db.PageControls.Single(x => x.Id == (int)Parameters["ControlId"]);
  var mode = (Parameters["Mode"] == null) ? "" : (string)Parameters["Mode"];
}
@if(mode == "Inline")
{
<div class="col-12 col-md-9 mb-2 mb-md-0">
  <input type="email" class="form-control form-control-lg" id="@control.ClientId" placeholder="@control.Placeholder">
</div>
}
else
{
<div class="form-group">
    <label for="@control.ClientId">@control.Label</label>
    <input type="email" class="form-control" id="@control.ClientId" aria-describedby="@(control.ClientId)Help" placeholder="@control.Placeholder">
    <small id="@(control.ClientId)Help" class="form-text text-muted">@control.Help</small>
</div>
}